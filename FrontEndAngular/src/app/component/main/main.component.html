<!-- User Role-based Header -->
<div *ngIf="userRole === 'VISITEUR'">
  <app-headertwo></app-headertwo>
</div>

<div *ngIf="userRole === 'SPECIALIST'">
  <app-left-sidebar></app-left-sidebar>
</div>

<div *ngIf="userRole === ''">
  <app-headerthree></app-headerthree>
</div>

<!-- Main Image Section -->
<section class="image-container">
  <img
    loading="lazy"
    src="https://cdn.builder.io/api/v1/image/assets/TEMP/9eb7c3518f9f29c52dc1d1fc22fe3406a03f02d5487abfeb752f61798aee398f?placeholderIfAbsent=true&apiKey=4de05f88efb54b6cb116a3e42dffdf27"
    class="img-fluid full-width-image"
    alt="Description of the image"
  />
</section>

<!-- Search Bar -->
<div class="container d-flex justify-content-center align-items-center mt-5">
  <div class="search-container d-flex align-items-center shadow-lg rounded p-3">
    <i class="bi bi-search search-icon"></i>
    <input
      type="text"
      class="form-control search-input border-0"
      placeholder="Search here"
      value="hair"
    />
    <div class="divider mx-3"></div>
    <button class="btn btn-primary search-button">Search</button>
  </div>
</div>

<!-- Events Section -->
<section class="events-container bg-white py-5">
  <div class="container">
    <h2 class="mb-4">Our Recipes</h2>
    <nav class="events-menu mb-3">
      <div
        class="menu-item"
        [ngClass]="{ 'menu-item-active': selectedCategory === null }"
        (click)="fetchAllRecipes()">
        All
      </div>
      <div
        class="menu-item"
        [ngClass]="{ 'menu-item-active': selectedCategory === RecipeCategory.HAIR }"
        (click)="onCategoryClick(RecipeCategory.HAIR)">
        Hair
      </div>
      <div
        class="menu-item"
        [ngClass]="{ 'menu-item-active': selectedCategory === RecipeCategory.FACE }"
        (click)="onCategoryClick(RecipeCategory.FACE)">
        Face
      </div>
    </nav>
    <div class="menu-item" routerLink="/login">Log in</div>

    <ng-template #noRecipes>
      <p class="text-center text-muted">No recipes found for the selected category.</p>
    </ng-template>
    <div class="row g-4" *ngIf="listRecipe.length > 0; else noRecipes">
      <div class="col-md-4" *ngFor="let recipe of listRecipe">
        <div class="card event-card">
          <div class="card-image-wrapper">
            <img
              [src]="'data:image/png;base64,' + recipe.image"
              class="card-img"
              alt="Recipe Image"
            />
          </div>
          <div class="card-body">
            <h5 class="card-title">{{ recipe.name }}</h5>
            <p class="card-text">{{ recipe.description }}</p>
            <button (click)="addFavorite(recipe.id)">Add to Favorites</button>
            <button *ngIf="isFavorite(recipe.id)" (click)="removeFavorite(recipe.id)">
              Remove from Favorites
            </button>
            <p class="text-muted mb-2">
              <i class="bi bi-calendar-date"></i> {{ recipe.datePublication | date }}
            </p>
            <a
              [routerLink]="['/home', { idrecipe: recipe.id }]"
              class="btn btn-violet w-100"
            >
              Show More
            </a>
          </div>
        </div>
      </div>
    </div>



  </div>
</section>
<!-- Recipes Section -->
<section class="articles-section bg-violet-light py-5">
  <div class="container">
    <h2 class="mb-4">Our Articles</h2>


    <div class="row g-4">
      <div class="col-md-4" *ngFor="let article of listArticle">
        <div class="card event-card">
          <div class="card-image-wrapper">
            <img
              [src]="'data:image/png;base64,' + article.image"
              class="card-img"
              alt="Article Image"
            />
          </div>
          <div class="card-body">
            <h5 class="card-title">{{ article.titre }}</h5>
            <p class="card-text">From $10</p>
            <p class="text-muted mb-2">
              <i class="bi bi-calendar-date"></i> {{ article.datePublication }}
            </p>
            <a
              [routerLink]="['/home', { idarticle: article.id }]"
              class="btn btn-violet w-100"
            >
              Show More
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- No Recipes Template -->
    <ng-template #noRecipes>
      <p class="text-center text-muted">No recipes found for the selected category.</p>
    </ng-template>
  </div>
</section>





<!-- Footer -->
<app-footer></app-footer>
